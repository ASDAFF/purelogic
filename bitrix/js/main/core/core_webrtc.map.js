{"version":3,"file":"core_webrtc.min.js","sources":["core_webrtc.js"],"names":["window","BX","webrtc","this","debug","audioMuted","videoMuted","enabled","detectedBrowser","attachMediaStream","pcConfig","oneway","lastUserMediaParams","pcConstraints","sdpConstraints","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","defaultMicrophone","defaultCamera","enableMicAutoParameters","configVideo","width","min","max","height","configVideoGroup","configVideoMobile","configVideoAfterError","callStreamSelf","callStreamMain","callStreamUsers","pc","pcStart","connected","iceCandidates","initiator","callUserId","callChatId","callToGroup","callGroupUsers","callInit","callInitUserId","callActive","callVideo","callRequestUserMedia","needPeerConnection","createAnswerTimeout","initPeerConnectionTimeout","iceCandidateTimeout","pcConnectTimeout","adapter","setTurnServer","inheritWebrtc","child","prototype","constructor","parent","navigator","mozGetUserMedia","userAgent","substr","indexOf","RTCPeerConnection","mozRTCPeerConnection","RTCSessionDescription","mozRTCSessionDescription","RTCIceCandidate","mozRTCIceCandidate","getUserMedia","bind","element","stream","mozSrcObject","play","webkitGetUserMedia","appVersion","webkitRTCPeerConnection","constraintsToChrome_","c","optional","cc","Object","keys","forEach","key","r","ideal","exact","undefined","oldname_","prefix","name","charAt","toUpperCase","slice","oc","push","mix","advanced","concat","getUserMedia_","constraints","onSuccess","onError","JSON","parse","stringify","audio","video","src","URL","createObjectURL","webkitMediaStream","getVideoTracks","videoTracks","getAudioTracks","audioTracks","getLocalStreams","localStreams","getRemoteStreams","remoteStreams","mediaDevices","Promise","resolve","reject","enumerateDevices","kinds","MediaStreamTrack","getSources","devices","map","device","label","kind","deviceId","id","groupId","MediaStream","ready","params","turnServer","turnServerFirefox","turnServerLogin","turnServerPassword","iceServers","url","credential","username","DtlsSrtpKeyAgreement","toggleAudio","changeVariable","length","i","toggleVideo","signalingReady","PULL","getPullServerStatus","log","text","desktop","arguments","message","console","startGetUserMedia","onUserMediaSuccess","echoCancellation","googEchoCancellation","googEchoCancellation2","googDAEchoCancellation","googAutoGainControl","googAutoGainControl2","mozAutoGainControl","googNoiseSuppression","googNoiseSuppression2","googHighpassFilter","googTypingNoiseDetection","googAudioMirroring","delegate","onUserMediaError","e","getTracks","track","mediaStreamTrackToString","stopMediaStream","userId","clearTimeout","initPeerConnection","error","createPeerConnection","setTimeout","sendOfferToPeer","setLocalAndSend","desc","setLocalDescription","a","onRemoteStreamAdded","event","setMainVideo","onRemoteStreamRemoved","onIceCandidate","candidates","onIceConnectionStateChange","onSignalingStateChange","peerConnectionError","peerConnectionReconnect","iceConnectionState","signalingState","close","deleteEvents","hasOwnProperty","mergeConstraints","cons1","cons2","merged","MozDontOfferDataChannel","prop","createOffer","onicecandidate","onIceCandidateEvent","onaddstream","onRemoteStreamAddedEvent","onremovestream","onRemoteStreamRemovedEvent","oniceconnectionstatechange","onIceConnectionStateChangeEvent","onsignalingstatechange","onSignalingStateChangeEvent","addStream","signalingPeerData","peerData","signal","type","createAnswer","setRemoteDescription","candidate","sdpMLineIndex","addIceCandidate","sdpMid","setDefaultCamera","setDefaultMicrophone","result","isFunction","mediaStream","stop"],"mappings":"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"}