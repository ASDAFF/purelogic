(function(){"use strict";BX.namespace("BX.Main.ui");BX.namespace("BX.Main.ui.block");BX.Main.ui.date=function(t){this.node=null;this.classControl="main-ui-date";this.classButton="main-ui-date-button";this.classInput="main-ui-date-input";this.button=null;this.input=null;this.init(t)};BX.Main.ui.date.prototype={init:function(t){if(BX.type.isDomNode(t)&&BX.hasClass(t,this.classControl)){this.node=t;BX.bind(this.getButton(),"click",BX.delegate(this.calendar,this));BX.bind(this.getInput(),"focus",BX.delegate(this.calendar,this));BX.bind(this.getInput(),"input",BX.delegate(this.calendar,this));BX.bind(this.getInput(),"click",BX.delegate(this.calendar,this));document.addEventListener("focus",BX.delegate(this._onDocumentFocus,this),true)}},_onDocumentFocus:function(t){if(t.target.nodeName==="INPUT"&&t.target!==this.getInput()){this.calendar().Close()}},calendar:function(){var t=this.getInput();var n=this.getButton();var i={node:n,field:t,bTime:true};return BX.calendar(i)},getNode:function(){return this.node},getButton:function(){if(!BX.type.isDomNode(this.button)){this.button=BX.findChild(this.getNode(),{"class":this.classButton},true,false)}return this.button},getInput:function(){if(!BX.type.isDomNode(this.input)){this.input=BX.findChild(this.getNode(),{"class":this.classInput},true,false)}return this.input}};BX.Main.ui.block["main-ui-date"]=function(t){var n,i,e,a;n={block:"main-ui-date",mix:["main-ui-control"],content:[]};if("mix"in t&&BX.type.isArray(t.mix)){t.mix.forEach(function(t){n.mix.push(t)})}if("calendarButton"in t&&t.calendarButton===true){i={block:"main-ui-date-button",tag:"span"};n.content.push(i)}e={block:"main-ui-date-input",mix:["main-ui-control-input"],tag:"input",attrs:{type:"text",name:"name"in t?t.name:"",tabindex:"tabindex"in t?t.tabindex:"",value:"value"in t?t.value:""}};n.content.push(e);if("valueDelete"in t&&t.valueDelete===true){a={block:"main-ui-control-value-delete",content:{block:"main-ui-control-value-delete-item",tag:"span"}};n.content.push(a)}return n}})();
//# sourceMappingURL=core_ui_date.map.js