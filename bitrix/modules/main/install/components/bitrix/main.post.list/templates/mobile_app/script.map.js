{"version":3,"file":"script.min.js","sources":["script.js"],"names":["window","BX","repo","entityId","text","form","list","comments","makeId","ENTITY_XMIL_ID","ID","setText","type","isNotEmptyString","res","localStorage","get","set","getText","addCustomEvent","BXMobileApp","isArray","inner","keyBoardIsShown","mention","appendToForm","fd","key","val","ii","hasOwnProperty","append","app","exec","id","node","join","removeClass","commentObj","attachments","this","mentions","prototype","replace","RegExp","getInstance","___id","removeInstance","comment","MPFForm","bindEvents","handlerId","entitiesId","handler","handlerEvents","onMPFUserIsWriting","delegate","writing","onMPFHasBeenDestroyed","reboot","visible","bindHandler","removeCustomEvent","closeWait","onCustomEvent","windowEvents","OnUCUserReply","authorId","authorName","parseInt","initComment","simpleForm","writingParams","show","OnUCAfterRecordEdit","data","act","showError","showNote","oldObj","newObj","linkEntity","_linkEntity","f","proxy","str","reinitComment","init","UI","Page","TextPanel","submitClear","submitStart","submit","c","entityHdl","post_data","getForm","ENTITY_XML_ID","REVIEW_TEXT","NOREDIRECT","MODE","AJAX_POST","sessid","bitrix_sessid","SITE_ID","message","LANGUAGE_ID","post","MobileAjaxWrapper","FormData","ij","length","Wrap","method","url","processData","start","preparePost","callback","callback_failure","xhr","send","addClass","bind","e","unbindAll","handleAppData","showWait","hide","link","mobileShowActions","event","isKeyboardShown","enableInVersion","platform","BXMobileAppContext","target","tagName","toUpperCase","getAttribute","eventCancelBubble","PreventDefault","menu","action","push","title","reply","like","RatingLikeComments","getById","vote","voted","List","hidden","oMSL","createTask","entityType","ActionSheet","buttons","mobileReply","mobileExpand","el2","previousSibling","el","parentNode","fxStart","fxFinish","offsetHeight","start1","height","finish1","remove","time","style","maxHeight","overflow","duration","finish","transition","easing","makeEaseOut","transitions","quart","step","state","opacity","complete","cssText","LazyLoad","showImages","animate","MPL","params","staticParams","formParams","superclass","constructor","apply","arguments","template","thumb","thumbForFile","postCounter","ENTITY_ID","obj","makeThumb","pullNewRecords","add","clearThumb","command","util","in_array","pullNewRecord","pullNewAuthor","extend","txt","container","isString","htmlspecialchars","html","fcParseTemplate","messageFields","FULL_ID","POST_MESSAGE_TEXT","POST_TIMESTAMP","Date","getTime","DATE_TIME_FORMAT","RIGHTS","rights","ob","processHTML","create","attrs","className","HTML","appendChild","curPos","pos","size","GetWindowInnerSize","top","innerHeight","GetWindowScrollPos","scrollTo","scroll","scrollHeight","scrollTop","display","cnt","func","childNodes","ajax","processScripts","SCRIPT","defer","newId","setAttribute","setTimeout","BitrixMobile","nav","build","createInstance","entity_xml_id"],"mappings":"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"}