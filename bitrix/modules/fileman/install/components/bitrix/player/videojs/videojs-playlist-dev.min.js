(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof this!=="undefined"){t=this}else if(typeof self!=="undefined"){t=self}else if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}t.videojsPlaylist=e()}})(function(){var e,t,i;return function n(e,t,i){function a(r,o){if(!t[r]){if(!e[r]){var s=typeof require=="function"&&require;if(!o&&s)return s(r,!0);if(l)return l(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var f=t[r]={exports:{}};e[r][0].call(f.exports,function(t){var i=e[r][1][t];return a(i?i:t)},f,f.exports,n,e,t,i)}return t[r].exports}var l=typeof require=="function"&&require;for(var r=0;r<i.length;r++)a(i[r]);return a}({1:[function(e,t,i){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{"default":e}}var a=typeof window!=="undefined"?window["videojs"]:typeof e!=="undefined"?e["videojs"]:null;var l=n(a);var r={thumbnailSize:190,playlistItems:3,hideIcons:false,upNext:true,hideSidebar:false,mobile:false};var o=undefined;var s=false;var d=[];var f=[];var u=[];var p=[];var v=null;var c=function N(e,t,i,n){var a=document.createElement("li");var l=document.createElement("div");l.className="vjs-playlist-video-title";if(t==0){if(r.upNext){var o=document.createElement("div");o.className="vjs-playlist-video-upnext";o.innerText="UP Next";l.appendChild(o)}}if(i){var s=document.createElement("div");s.innerText=i;l.appendChild(s);a.appendChild(l)}if(n)a.setAttribute("style","background-image: url('"+n+"');");a.setAttribute("data-index",t);a.onclick=function(t){var i=parseInt(t.target.getAttribute("data-index"));w(e,i,true)};return a};var m=function C(e,t){f[e.id_]=t.videos;d[e.id_]=0;s=t.playlist.mobile;if(t.playlist&&t.playlist.thumbnailSize){r.thumbnailSize=t.playlist.thumbnailSize.toString().replace("px","")}if(t.playlist&&t.playlist.items){r.playlistItems=t.playlist.items}if(t.playlist&&t.playlist.hideIcons){r.hideIcons=t.playlist.hideIcons}if(t.playlist&&t.playlist.hideSidebar){r.hideSidebar=t.playlist.hideSidebar}y(e,t);j(e)};var y=function B(e,t){v=document.createElement("ul");v.className="vjs-playlist-items";if(!r.hideSidebar){e.el().appendChild(v)}p[e.id_]=v;if(f[e.id_].length>0){f[e.id_].map(function(t,i){p[e.id_].appendChild(c(e.id_,i,t.title,t.thumbnail))});w(e.id_,0,false)}if(!r.hideIcons){var i=document.createElement("button");i.className="vjs-button-prev";i.onclick=g;e.controlBar.el().insertBefore(i,e.controlBar.playToggle.el());var n=document.createElement("button");n.className="vjs-button-next";n.onclick=b;e.controlBar.el().insertBefore(n,e.controlBar.volumeMenuButton.el())}e.on("ended",h);e.addClass("vjs-playlist")};var h=function I(){x()};var b=function S(e){var t=e.target.parentNode.parentNode.id;x(t)};var g=function A(e){var t=e.target.parentNode.parentNode.id;_(t)};var j=function z(e){var t=function i(e){var t=r.thumbnailSize;var i=e.el().id;var n=e.el().offsetWidth;var a=e.el().offsetHeight;var l=Math.round((a-10)/r.playlistItems)-10;var o=e.$(".vjs-tech");var s=n-t;if(s>=0){var d=i+"_styles";var f=document.getElementById(d);if(!f)f=document.createElement("style");var u=" #"+i+".vjs-playlist .vjs-poster { width: "+s+"px !important; }"+" #"+i+".vjs-playlist .vjs-playlist-items { width: "+t+"px !important; }"+" #"+i+".vjs-playlist .vjs-playlist-items li { height: "+l+"px !important; }"+" #"+i+".vjs-playlist .vjs-modal-dialog { width: "+s+"px !important; } "+" #"+i+".vjs-playlist .vjs-control-bar, #"+i+".vjs-playlist .vjs-tech { width: "+s+"px !important; } "+" #"+i+".vjs-playlist .vjs-big-play-button, #"+i+".vjs-playlist .vjs-loading-spinner { left: "+Math.round(s/2)+"px !important; } "+" #"+i+" .vimeoFrame { width: "+s+"px !important; } "+" #"+i+" .vimeoFrame.vimeoHidden { padding-bottom: 0 !important; } ";f.setAttribute("id",d);f.setAttribute("type","text/css");document.getElementsByTagName("head")[0].appendChild(f);if(f.firstChild){f.firstChild.textContent=u}else{f.appendChild(document.createTextNode(u))}}};if(!r.hideSidebar){e.on("fullscreenchange",function(){t(this)});window.addEventListener("resize",function(i){t(e)});if(e){t(e)}}};var w=function L(e,t,i){if(!e){e=o.id_}d[e]=t;var n=u[e].el().querySelectorAll("ul.vjs-playlist-items li");for(var a=0;a<n.length;a++){if(a==t){n[a].classList.add("current")}else{n[a].classList.remove("current")}}u[e].pause();u[e].error(null);var l={type:f[e][t].type,src:f[e][t].src};var r=e+"_wmv_player";if(l.type=="video/x-ms-wmv"){var p=document.getElementById(r);if(!p){p=document.createElement("div");p.setAttribute("id",r);p.setAttribute("class","vjs-tech");u[e].el().appendChild(p)}var v=u[e].wmvConfig;v.file=l.src;if(!!f[e][t].thumbnail)v.image=f[e][t].thumbnail;var c=new window.jeroenwijering.Player(p,"/bitrix/components/bitrix/player/wmvplayer/wmvplayer.xaml",u[e].wmvConfig)}else{var p=document.getElementById(r);if(!!p)p.parentNode.removeChild(p);var m=u[e].el().getElementsByClassName("vimeoFrame");for(var a=0;a<m.length;a++){m[a].classList.add("vimeoHidden")}if(l.type=="video/vimeo"){var y="vimeo_wrapper_"+e;if(!!document.getElementById(y))document.getElementById(y).classList.remove("vimeoHidden")}u[e].src(l);u[e].poster(f[e][t].thumbnail);if(!s&&(i||u[e].options_.autoplay)){try{u[e].play()}catch(h){}}}};var x=function M(e){if(!e){e=o.id_}if(d[e]<f[e].length-1){d[e]++}else{d[e]=0}w(e,d[e],true)};var _=function T(e){if(!e){e=o.id_}if(d[e]>0){d[e]--}else{d[e]=f[e].length-1}w(e,d[e],true)};var E=function q(e){var t=this;this.ready(function(){o=t;u[o.id_]=o;m(t,l["default"].mergeOptions(e,r))})};l["default"].plugin("playlist",E);i["default"]=E;t.exports=i["default"]}).call(this,typeof this!=="undefined"?this:typeof self!=="undefined"?self:typeof global!=="undefined"?global:typeof window!=="undefined"?window:{})},{}]},{},[1])(1)});
//# sourceMappingURL=videojs-playlist-dev.map.js